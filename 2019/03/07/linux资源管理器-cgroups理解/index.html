<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="linux,">










<meta name="description" content="cgroups是control groups的缩写,即控制组,是Linux内核提供的一种可以限制,记录,隔离进程组所使用的物理资源的机制.它是实现Linux容器如lxc,docker等的基础之一 简而言之,它负责控制进程使用的系统资源=_=.官方文档:https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/Do">
<meta name="keywords" content="linux">
<meta property="og:type" content="article">
<meta property="og:title" content="linux资源管理器--cgroups理解">
<meta property="og:url" content="https://staight.github.io/2019/03/07/linux资源管理器-cgroups理解/index.html">
<meta property="og:site_name" content="staight">
<meta property="og:description" content="cgroups是control groups的缩写,即控制组,是Linux内核提供的一种可以限制,记录,隔离进程组所使用的物理资源的机制.它是实现Linux容器如lxc,docker等的基础之一 简而言之,它负责控制进程使用的系统资源=_=.官方文档:https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/Do">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-10-02T17:49:48.452Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="linux资源管理器--cgroups理解">
<meta name="twitter:description" content="cgroups是control groups的缩写,即控制组,是Linux内核提供的一种可以限制,记录,隔离进程组所使用的物理资源的机制.它是实现Linux容器如lxc,docker等的基础之一 简而言之,它负责控制进程使用的系统资源=_=.官方文档:https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/Do">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://staight.github.io/2019/03/07/linux资源管理器-cgroups理解/">





  <title>linux资源管理器--cgroups理解 | staight</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">staight</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sundries">
          <a href="/sundries/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-calendar"></i> <br>
            
            Sundries
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://staight.github.io/2019/03/07/linux资源管理器-cgroups理解/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="staight">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="staight">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">linux资源管理器--cgroups理解</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-03-07T23:19:51+08:00">
                2019-03-07
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2019-10-03T01:49:48+08:00">
                2019-10-03
              </time>
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><code>cgroups</code>是control groups的缩写,即控制组,是Linux内核提供的一种可以限制,记录,隔离进程组所使用的物理资源的机制.它是实现Linux容器如lxc,docker等的基础之一</p>
<p>简而言之,它负责控制进程使用的系统资源=_=.官方文档:<a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/Documentation/cgroup-v1/cgroups.txt?h=v4.18-rc1" target="_blank" rel="noopener">https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/Documentation/cgroup-v1/cgroups.txt?h=v4.18-rc1</a></p>
<h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><p>cgroups的实现本质上是给系统进程挂上钩子(hooks),当task运行的过程中涉及到某个资源时就会触发钩子上所附带的subsystem进行检测,最终根据资源类别的不同使用对应的技术进行资源限制和优先级分配</p>
<p>cgroups的目的是将任意进程进行分组化管理.</p>
<p>cgroups本身提供将进程进行分组化管理的功能,而IO或内存的分配等具体的资源管理功能则是通过subsystem来实现的.可以通过<code>/proc/cgroup</code>查看可以使用的subsystem</p>
<p>cgroups提供了一个名为cgroup的虚拟文件系统,作为进行分组管理和各子系统设置的用户接口.要使用cgroups,必须挂载cgroup文件系统,此时可以通过挂载参数指定使用的subsystem</p>
<p>在linux中,cgroups默认挂载在<code>/sys/fs/cgroup</code>目录,其中包含了所有的子系统以及每个子系统的层级</p>
<h2 id="cgroups相关概念"><a href="#cgroups相关概念" class="headerlink" title="cgroups相关概念"></a>cgroups相关概念</h2><p>cgroups主要由task,cgroup,subsystem以及hierarchy组成</p>
<ul>
<li>task(任务): 在cgroups中,任务就是系统的一个进程</li>
<li>cgroup(控制族群): 控制族群是一组按照某种标准划分的进程.cgroups中的资源控制都是以控制族群为单位实现的.一个进程可以加入某个控制族群,也可以迁移至另一个控制族群</li>
<li>hierarchy(层级): 控制族群可以组织成层级的形式,即一颗控制族群树,其上的子节点继承父节点的特定属性(我觉得层级这个名称不好,直接讲cgroup树得了)</li>
<li>subsystem(子系统): 通常是一个资源控制器.例如CPU子系统可以控制CPU时间分配.一个子系统必须附加到控制族群树上才能起作用,该树上的所有控制族群都受到该子系统的控制</li>
</ul>
<h2 id="子系统简介"><a href="#子系统简介" class="headerlink" title="子系统简介"></a>子系统简介</h2><p>subsystem实际上就是cgroups的资源控制系统,每种subsystem独立地控制一种资源</p>
<ul>
<li>blkio: 这个subsystem可以为块设备设定输入/输出限制,比如物理驱动设备(包括磁盘,固态硬盘,USB等)</li>
<li>cpu: 这个subsystem使用调度程序控制task对CPU的使用</li>
<li>cpuacct: 这个subsystem自动生成cgroup中task对CPU资源使用情况的报告</li>
<li>cpuset: 这个subsystem可以为cgroup中的task分配独立的CPU(此处针对多处理器系统)和内存</li>
<li>devices: 这个subsystem可以开启或关闭cgroup中task对设备的访问</li>
<li>freezer: 这个subsystem可以挂起或恢复cgroup中的task</li>
<li>memory: 这个subsystem可以设定cgroup中task对内存使用量的限定,并且自动生成这些task对内存资源使用情况的报告</li>
<li>perfevent: 这个subsystem使用后使得cgroup中的task可以进行统一的性能测试</li>
<li>*net_cls: 这个subsystem Docker没有直接使用,它通过使用等级识别符(classid)标记网络数据包,从而允许Linux流量控制程序(TC：Traffic Controller)识别从具体cgroup中生成的数据包</li>
</ul>
<h2 id="cgroups规则"><a href="#cgroups规则" class="headerlink" title="cgroups规则"></a>cgroups规则</h2><p>在任务,控制族群,层级,子系统间有着一些规则:</p>
<ol>
<li>同一个hierarchy能够附加一个或多个subsystem</li>
<li>一个subsystem只能附加到一个hierarchy上</li>
<li>每次在系统中创建新层级时,该系统中的所有任务都是那个层级的默认cgroup(我们称之为root cgroup,此cgroup在创建层级时自动创建,后面在该层级中创建的cgroup都是此cgroup的后代)的初始成员</li>
<li>一个任务可以是多个cgroup的成员,但是这些cgroup必须在不同的层级</li>
<li>进程创建子进程时,该子进程自动成为其父进程所在的cgroup的成员.可根据需要将其移至其它cgroup中</li>
</ol>
<p>验证:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">]# ls /sys/fs/cgroup</span><br><span class="line">drwxr-xr-x. 2 root root  0 Mar  7 21:12 blkio</span><br><span class="line">lrwxrwxrwx. 1 root root 11 Mar  7 21:12 cpu -&gt; cpu,cpuacct</span><br><span class="line">lrwxrwxrwx. 1 root root 11 Mar  7 21:12 cpuacct -&gt; cpu,cpuacct</span><br><span class="line">drwxr-xr-x. 3 root root  0 Mar  7 21:12 cpu,cpuacct</span><br><span class="line">drwxr-xr-x. 3 root root  0 Mar  7 21:12 cpuset</span><br><span class="line">drwxr-xr-x. 4 root root  0 Mar  7 21:12 devices</span><br><span class="line">drwxr-xr-x. 2 root root  0 Mar  7 21:12 freezer</span><br><span class="line">drwxr-xr-x. 2 root root  0 Mar  7 21:12 hugetlb</span><br><span class="line">drwxr-xr-x. 2 root root  0 Mar  7 21:12 memory</span><br><span class="line">lrwxrwxrwx. 1 root root 16 Mar  7 21:12 net_cls -&gt; net_cls,net_prio</span><br><span class="line">drwxr-xr-x. 2 root root  0 Mar  7 21:12 net_cls,net_prio</span><br><span class="line">lrwxrwxrwx. 1 root root 16 Mar  7 21:12 net_prio -&gt; net_cls,net_prio</span><br><span class="line">drwxr-xr-x. 2 root root  0 Mar  7 21:12 perf_event</span><br><span class="line">drwxr-xr-x. 2 root root  0 Mar  7 21:12 pids</span><br><span class="line">drwxr-xr-x. 4 root root  0 Mar  7 21:12 systemd</span><br></pre></td></tr></table></figure>

<p>可以看到,每个目录都是一个层级,一个子系统只能在一个层级,而其中的<code>cpu,cpuacct</code>层级有着<code>cpu</code>和<code>cpuacct</code>子系统,<code>net_cls,net_prio</code>层级有着<code>net_cls</code>和<code>net_prio</code>子系统</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">]# ls -l /sys/fs/cgroup/cpuset</span><br><span class="line">-rw-r--r--. 1 root root 0 Mar  7 21:12 cgroup.clone_children</span><br><span class="line">--w--w--w-. 1 root root 0 Mar  7 21:12 cgroup.event_control</span><br><span class="line">-rw-r--r--. 1 root root 0 Mar  7 21:12 cgroup.procs</span><br><span class="line">-r--r--r--. 1 root root 0 Mar  7 21:12 cgroup.sane_behavior</span><br><span class="line">-rw-r--r--. 1 root root 0 Mar  7 21:12 cpuset.cpu_exclusive</span><br><span class="line">-rw-r--r--. 1 root root 0 Mar  7 21:12 cpuset.cpus</span><br><span class="line">-r--r--r--. 1 root root 0 Mar  7 21:12 cpuset.effective_cpus</span><br><span class="line">-r--r--r--. 1 root root 0 Mar  7 21:12 cpuset.effective_mems</span><br><span class="line">-rw-r--r--. 1 root root 0 Mar  7 21:12 cpuset.mem_exclusive</span><br><span class="line">-rw-r--r--. 1 root root 0 Mar  7 21:12 cpuset.mem_hardwall</span><br><span class="line">-rw-r--r--. 1 root root 0 Mar  7 21:12 cpuset.memory_migrate</span><br><span class="line">-r--r--r--. 1 root root 0 Mar  7 21:12 cpuset.memory_pressure</span><br><span class="line">-rw-r--r--. 1 root root 0 Mar  7 21:12 cpuset.memory_pressure_enabled</span><br><span class="line">-rw-r--r--. 1 root root 0 Mar  7 21:12 cpuset.memory_spread_page</span><br><span class="line">-rw-r--r--. 1 root root 0 Mar  7 21:12 cpuset.memory_spread_slab</span><br><span class="line">-rw-r--r--. 1 root root 0 Mar  7 21:12 cpuset.mems</span><br><span class="line">-rw-r--r--. 1 root root 0 Mar  7 21:12 cpuset.sched_load_balance</span><br><span class="line">-rw-r--r--. 1 root root 0 Mar  7 21:12 cpuset.sched_relax_domain_level</span><br><span class="line">-rw-r--r--. 1 root root 0 Mar  7 21:12 notify_on_release</span><br><span class="line">-rw-r--r--. 1 root root 0 Mar  7 21:12 release_agent</span><br><span class="line">-rw-r--r--. 1 root root 0 Mar  7 21:12 tasks</span><br></pre></td></tr></table></figure>

<p>该目录是cpuset层级(也是cpuset子系统)的默认cgroup,也就是根cgroup,该cgroup的<code>tasks</code>文件包含系统的所有进程</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@staight cpuset]# mkdir test&amp;&amp; cd test</span><br><span class="line">[root@staight test]# echo 1000 &gt;&gt; tasks</span><br></pre></td></tr></table></figure>

<p>创建一个子cgroup,在默认为空的tasks中添加1000进程,此时去查看父cgroup的tasks,原来的1000进程会消失.因此在一个层级中,一个进程只能存在于唯一的cgroup</p>
<h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><p>查看系统所用到的子系统:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@staight test]# lssubsys </span><br><span class="line">cpuset</span><br><span class="line">cpu,cpuacct</span><br><span class="line">memory</span><br><span class="line">devices</span><br><span class="line">freezer</span><br><span class="line">net_cls,net_prio</span><br><span class="line">blkio</span><br><span class="line">perf_event</span><br><span class="line">hugetlb</span><br><span class="line">pids</span><br></pre></td></tr></table></figure>

<p>查看当前所有的cgroup:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@staight test]# lscgroup </span><br><span class="line">cpu,cpuacct:/</span><br><span class="line">cpu,cpuacct:/test</span><br><span class="line">net_cls,net_prio:/</span><br><span class="line">hugetlb:/</span><br><span class="line">devices:/</span><br><span class="line">memory:/</span><br><span class="line">pids:/</span><br><span class="line">blkio:/</span><br><span class="line">perf_event:/</span><br><span class="line">freezer:/</span><br><span class="line">cpuset:/</span><br><span class="line">cpuset:/test</span><br></pre></td></tr></table></figure>

<p>在指定cgroup中启动指定进程:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@staight shell]# cgexec -g cpu,cpuacct:/test ./cpu_max.sh</span><br></pre></td></tr></table></figure>

<p>将进程添加至指定cgroup:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@staight shell]# cgclassify -g cpuset:/test 1000</span><br></pre></td></tr></table></figure>

<p>设置指定cgroup的参数:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@staight shell]# cgset -r cpuset.cpus=0-1 cpuset:/</span><br></pre></td></tr></table></figure>

<h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><p><a href="https://www.ibm.com/developerworks/cn/linux/1506_cgroup/" target="_blank" rel="noopener">CGroup 介绍、应用实例及原理描述</a></p>
<p><a href="https://infoq.cn/article/docker-kernel-knowledge-cgroups-resource-isolation" target="_blank" rel="noopener">Docker 背后的内核知识——cgroups 资源限制</a></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/linux/" rel="tag"># linux</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/02/16/django生产环境部署/" rel="next" title="django生产环境部署">
                <i class="fa fa-chevron-left"></i> django生产环境部署
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/08/26/hexo-next容器化/" rel="prev" title="hexo-next容器化">
                hexo-next容器化 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="staight">
            
              <p class="site-author-name" itemprop="name">staight</p>
              <p class="site-description motion-element" itemprop="description">keep it simple and stupid</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">63</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">14</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#原理"><span class="nav-number">1.</span> <span class="nav-text">原理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#cgroups相关概念"><span class="nav-number">2.</span> <span class="nav-text">cgroups相关概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#子系统简介"><span class="nav-number">3.</span> <span class="nav-text">子系统简介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#cgroups规则"><span class="nav-number">4.</span> <span class="nav-text">cgroups规则</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#常用命令"><span class="nav-number">5.</span> <span class="nav-text">常用命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#参考文档"><span class="nav-number">6.</span> <span class="nav-text">参考文档</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">staight</span>

  
</div>






  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a></div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
